<div class="row">
    <div class="">
        <h1>{{ project?.name }}</h1>
        <div class="pull-right">
            <button (click)="updateProject()" type="submit" class="btn btn-primary pull-right">Save</button>
        </div>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <p>Project</p>
    </div>
    <div class="panel-body">
        <div class="form-group">
            <label class="control-label col-sm-3" for="society">National society:</label>
            <div class="col-sm-9">
                <div class="input-group">
                    <span class="input-group-addon">
                        <i class="fa fa-globe" aria-hidden="true"></i>
                    </span>
                    <select id="society" class="form-control" [(ngModel)]="selectedSociety" (change)="onSocietyChange(selectedSociety)" name="society"
                        required>
                        <option *ngFor="let society of societies" [value]="society.id">{{society.name}}</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-sm-3" for="owner">Project / data owner:</label>
            <div class="col-sm-9">
                <div class="input-group">
                    <span class="input-group-addon">
                        <i class="fa fa-user-circle-o" aria-hidden="true"></i>
                    </span>
                    <select id="owner" class="form-control" [(ngModel)]="selectedOwner" name="owner" required>
                        <option *ngFor="let owner of projectOwners" [value]="owner.id">{{owner.firstname}} {{owner.lastname}} / {{owner.country}}
                        </option>
                    </select>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-sm-3" for="project">Name of project:</label>
            <div class="col-sm-9">
                <div class="input-group">
                    <span class="input-group-addon">
                        <i class="fa fa-heartbeat" aria-hidden="true"></i>
                    </span>
                    <input type="text" [(ngModel)]="project.name" *ngIf="project !== undefined" name="project.name" class="form-control" id="project"
                        required>
                </div>
            </div>
        </div>
        <div class="form-group">
            <p class="control-label col-sm-3 font-weight-bold">
                <strong>Surveillance context:</strong>
            </p>
            <div class="col-sm-9">
                <fieldset id="surveillance" class="input-group">
                    <div *ngFor="let option of surveillanceOptions" class="radio-inline">
                        <label class="radio-inline">
                            <input type="radio" name="surveillance" [value]="option.id" [(ngModel)]="selectedSurveillanceOptionId" required> {{ option.name }}
                        </label>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>
</div>
<div class="panel panel-default">
    <div class="panel-heading">
        <p>Health risk</p>
    </div>
    <div class="panel-body">
        <div class="row" *ngFor="let item of project?.healthRisks">
            <div class="col-sm-4">
                <div class="form-group">
                    <label class="control-label col-sm-4" for="health-risk">Health risk:</label>
                    <div class="col-sm-8">
                        <select id="health-risk" class="form-control" name="health-risk" required [(ngModel)]="item.id">
                            <option *ngFor="let risk of healthRisks" [value]="risk.id">{{risk.name}}</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="form-group">
                    <label class="control-label col-sm-4" for="threshold">Threshold:</label>
                    <div class="col-sm-8">
                        <input type="number" [(ngModel)]="item.threshold">
                    </div>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="form-group">
                    <label class="control-label col-sm-4" for="case-definition">Case Definition:</label>
                    <div class="col-sm-8">
                        <div class="input-group">
                            <span class="input-group-addon">
                                <i class="fa fa-heartbeat" aria-hidden="true"></i>
                            </span>
                            <input type="text" [(ngModel)]="caseDefinition" class="form-control" id="case-definition" disabled>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="panel panel-default">
    <div class="panel-heading">
        <p>Data verifier </p>
    </div>
    <div class="panel-body">

    </div>
</div>
<div class="panel panel-default">
    <div class="panel-heading">
        <p>SMS</p>
    </div>
    <div class="panel-body">

    </div>
</div>